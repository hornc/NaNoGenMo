#!/bin/bash
sed 's/\[.*\]//g;s/\W/ /g;s/\s\+/ /g;s/ *$/ /;s/^ //' | tr 'A-Z ' 'a-z|' | sed 's/a/𐇭/g;s/b/𐇱/g;s/c/𐇤/g;s/d/𐇙/g;s/e/𐇚/g;s/f/𐇲/g;s/g/𐇶/g;s/h/𐇐/g;s/i/𐇑/g;s/j/𐇶/g;s/k/𐇨/g;s/l/𐇳/g;s/m/𐇓/g;s/n/𐇔/g;s/o/𐇠/g;s/p/𐇜/g;s/q/𐇦/g;s/r/𐇝/g;s/s/𐇵/g;s/t/𐇛/g;s/u/𐇕/g;s/v/𐇩/g;s/w/𐇞/g;s/x/𐇥/g;s/y/𐇢/g;s/z/𐇼/g' | tr -d '\n' | sed 's/\(.\{137\}[^|]*\)|/⁞\1\n/g;' | split -da5 -l1 --filter 'echo "<svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><path id=\"p\" fill=\"none\" transform=\"scale(1,-1)\" d=\"M50,90 q-40,0 -40,-40 q0,-40 40,-40 q40,0 40,40 q0,40 -27,40 q-7,0 -12,-10 q-30,0 -30,-30 q0,-30 30,-30 q30,0 30,30 q-5,35 -25,25 q-25,-5 -25,-25 q0,-20 20,-20 q20,0 20,20 q0,15 -15,15 q-10,0 -15,-15 q0,-10 10,-10 q10,0 10,10 q0,10 -10,0\"/><use stroke=\"black\" stroke-width=\"0.6\" transform=\"scale(1,-1)\" xlink:href=\"#p\"/><text transform=\"scale(1,-1)\" font-size=\"6pt\"><textPath baseline-shift=\"2pt\" xlink:href=\"#p\">" $(cat -) "</textPath></text></svg>" > $FILE.svg' - output_

